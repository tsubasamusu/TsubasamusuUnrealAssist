# Tsubasamusu Unreal Assist (Experimental)
## Overview
An editor extension plugin that adds features I personally want in Unreal Editor, as well as features I've seen on social media that people want. This plugin is in experimental, and I cannot compensate for any file corruption or system failures caused by using this plugin. Additionally, installing this plugin will display a category for this plugin in "Editor Preferences > Plugins > Tsubasamusu Unreal Assist".

## Available Engine Versions
The following engine versions have been confirmed to work with this plugin.

- 5.7

# Features
## Right Click Menu in Blueprint Graph
### Generate Comments
Generate comments using Open AI's API key. Please pay close attention to API usage when using this feature.

<img width="500" src="https://github.com/user-attachments/assets/7fc80cb9-6c61-4002-8aea-bd5e06a00488">

The settings related to this feature are as follows.

| Property Name | Description |
----|----
| OpenAI API Key | API key created at [API keys - OpenAI API](https://platform.openai.com/api-keys). This API key is used when generating comments. |
| Use Editor Language | Whether to match the language of generated comments to the editor language. |
| Language | The language of comments generated by GPT. This property will become editable if you uncheck \"Use Editor Language\". |
| GPT Model Name | GPT model name. The default value is "gpt-4o-mini". The names of available GPT models can be found in [Models - OpenAI API](https://platform.openai.com/docs/models). |
| Ignore Nodes Do Not Have Connected Pins | Whether to ignore nodes that have no input pins, output pins, execution pins, etc. connected to them when generating comments. |
| Use TOON Format | Whether the string format used to pass nodes information to GPT for comment generation should be [TOON](https://toonformat.dev). If false, JSON is used instead. |
| Ignore Comment Nodes | Whether to ignore comment nodes contained within a comment node when generating comments. |
| Conditions | Conditions that GPT must adhere to when generating comments. Example: “answer briefly” |

### Make Array
When multiple nodes with output pins of the same type are selected and right-clicked, the “Make Array” menu appears, and selecting the menu creates a Make Array node with all of those output pins connected.

<img width="500" src="https://github.com/user-attachments/assets/1b7cf903-4eba-44a6-b475-5e513eb4b4d5">

### Translate Comments
When you right-click on a comment node, a menu labeled 'Translate to...' appears, allowing you to select the target language and translate the comment. This translation feature uses the DeepL API, and the API key can be configured in the editor settings under "Comment Translation > DeepL API Key".

<img width="500" src="https://github.com/user-attachments/assets/6768ed5d-5c88-42e7-b2f4-e33a4e4b24c8">

### Copy Nodes Information as String
It copies the information of selected nodes as a JSON-formatted string. This JSON-formatted string includes the node and pin names, node comments, pin direction (input or output), pin type, and the GUID of the connected pins. The copied data is currently saved to the clipboard and its character count is approximately one-third of that of the text that can be obtained using the standard Unreal Engine copy function.

Copies information about the selected nodes as a string in JSON format or [TOON](https://toonformat.dev) format. This string includes the node name and pin names, node comments, pin direction (input or output), pin types, and the GUIDs of connected pins. This string is saved to the clipboard. When “JSON” is selected, the character count is about one-third of the text obtainable with the standard Unreal Engine copy function. Furthermore, when “TOON” is selected, the character count is less than half of that of “JSON”.

<img width="700" src="https://github.com/user-attachments/assets/7a4b25c9-46c1-4b39-a6b6-09251ca1801b">

For example, in the blueprint shown in the image above, in a level blueprint called “L_Sample,” it displays the text “Nice to meet you!!” or “We meet again!” depending on the value of a bool variable called “IsFirstPlay.” The actual text when this process is copied to the clipboard using the copy function of “Tsubasamusu Unreal Assist” is as follows.

<details>

<summary>JSON</summary>

```json
{
	"nodeDataList": [
		{
			"nodeName": "Get IsFirstPlay",
			"comment": "",
			"bIsCommentNode": false,
			"pinDataList": [
				{
					"pinName": "Is First Play",
					"pinDirection": "Output",
					"pinType": "Boolean",
					"pinId": "38F0BD7B4548CE3707F161951E77EFD2",
					"defaultValue": "false",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"41AF610842826F7EA4CF1C939BC0BD14"
					]
				},
				{
					"pinName": "Target",
					"pinDirection": "Input",
					"pinType": "L Sample",
					"pinId": "683AF56545EA5021298A688DCB203779",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				}
			]
		},
		{
			"nodeName": "Event BeginPlay",
			"comment": "",
			"bIsCommentNode": false,
			"pinDataList": [
				{
					"pinName": "Output Delegate",
					"pinDirection": "Output",
					"pinType": "Delegate",
					"pinId": "F929107B41909F2A9DE7C58E3F17DF66",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": []
				},
				{
					"pinName": "then",
					"pinDirection": "Output",
					"pinType": "Exec",
					"pinId": "A1F7AC82495D21755E9AEC907008A979",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"D886E14F4E4EB1489CD67D9AE743AAD7"
					]
				}
			]
		},
		{
			"nodeName": "Branch",
			"comment": "",
			"bIsCommentNode": false,
			"pinDataList": [
				{
					"pinName": "execute",
					"pinDirection": "Input",
					"pinType": "Exec",
					"pinId": "D886E14F4E4EB1489CD67D9AE743AAD7",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"A1F7AC82495D21755E9AEC907008A979"
					]
				},
				{
					"pinName": "Condition",
					"pinDirection": "Input",
					"pinType": "Boolean",
					"pinId": "41AF610842826F7EA4CF1C939BC0BD14",
					"defaultValue": "true",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"38F0BD7B4548CE3707F161951E77EFD2"
					]
				},
				{
					"pinName": "True",
					"pinDirection": "Output",
					"pinType": "Exec",
					"pinId": "F1AF8EF8433BA25A83CB75BC7393D7EB",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"38A2D2F64DC6046FF9D271A4A76C63C8"
					]
				},
				{
					"pinName": "False",
					"pinDirection": "Output",
					"pinType": "Exec",
					"pinId": "7EE5C76349D1514966AF38BBB160EAC3",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"38A2D2F64DC6046FF9D271A4A76C63C8"
					]
				}
			]
		},
		{
			"nodeName": "Print String",
			"comment": "",
			"bIsCommentNode": false,
			"pinDataList": [
				{
					"pinName": "execute",
					"pinDirection": "Input",
					"pinType": "Exec",
					"pinId": "38A2D2F64DC6046FF9D271A4A76C63C8",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"F1AF8EF8433BA25A83CB75BC7393D7EB"
					]
				},
				{
					"pinName": "then",
					"pinDirection": "Output",
					"pinType": "Exec",
					"pinId": "9C0778834E4A81758E83FA834E91B2AD",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": []
				},
				{
					"pinName": "Target",
					"pinDirection": "Input",
					"pinType": "Kismet System Library",
					"pinId": "FF22BD2F4D6C374F30E125903EEA1C70",
					"defaultValue": "/Script/Engine.Default__KismetSystemLibrary",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "World Context Object",
					"pinDirection": "Input",
					"pinType": "Object",
					"pinId": "6FAB1F2E40E482619454AA842B390F56",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "In String",
					"pinDirection": "Input",
					"pinType": "String",
					"pinId": "C21184844D66411D3D89EE8DFB5DD89B",
					"defaultValue": "Nice to meet you!!",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Print to Screen",
					"pinDirection": "Input",
					"pinType": "Boolean",
					"pinId": "EC90BC1046D7AB1FBEB309A15DF87FA4",
					"defaultValue": "true",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Print to Log",
					"pinDirection": "Input",
					"pinType": "Boolean",
					"pinId": "E1A51F0549680735E8DC549ECED33D09",
					"defaultValue": "true",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Text Color",
					"pinDirection": "Input",
					"pinType": "Linear Color",
					"pinId": "B6D72FF44EF181599820E28881FC973A",
					"defaultValue": "(R=0.000000,G=1.000000,B=0.000000,A=1.000000)",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Duration",
					"pinDirection": "Input",
					"pinType": "Float (single-precision)",
					"pinId": "A2CC654440E553AC90FA03ABB7F3E60B",
					"defaultValue": "10.000000",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Key",
					"pinDirection": "Input",
					"pinType": "Name",
					"pinId": "F7F12F7846161B2188E38EB89836CD81",
					"defaultValue": "None",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				}
			]
		},
		{
			"nodeName": "Print String",
			"comment": "",
			"bIsCommentNode": false,
			"pinDataList": [
				{
					"pinName": "execute",
					"pinDirection": "Input",
					"pinType": "Exec",
					"pinId": "38A2D2F64DC6046FF9D271A4A76C63C8",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": [
						"7EE5C76349D1514966AF38BBB160EAC3"
					]
				},
				{
					"pinName": "then",
					"pinDirection": "Output",
					"pinType": "Exec",
					"pinId": "9C0778834E4A81758E83FA834E91B2AD",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": false,
					"connectedPinIds": []
				},
				{
					"pinName": "Target",
					"pinDirection": "Input",
					"pinType": "Kismet System Library",
					"pinId": "FF22BD2F4D6C374F30E125903EEA1C70",
					"defaultValue": "/Script/Engine.Default__KismetSystemLibrary",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "World Context Object",
					"pinDirection": "Input",
					"pinType": "Object",
					"pinId": "6FAB1F2E40E482619454AA842B390F56",
					"defaultValue": "",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "In String",
					"pinDirection": "Input",
					"pinType": "String",
					"pinId": "C21184844D66411D3D89EE8DFB5DD89B",
					"defaultValue": "We meet again!",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Print to Screen",
					"pinDirection": "Input",
					"pinType": "Boolean",
					"pinId": "EC90BC1046D7AB1FBEB309A15DF87FA4",
					"defaultValue": "true",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Print to Log",
					"pinDirection": "Input",
					"pinType": "Boolean",
					"pinId": "E1A51F0549680735E8DC549ECED33D09",
					"defaultValue": "true",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Text Color",
					"pinDirection": "Input",
					"pinType": "Linear Color",
					"pinId": "B6D72FF44EF181599820E28881FC973A",
					"defaultValue": "(R=1.000000,G=0.000000,B=0.000000,A=1.000000)",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Duration",
					"pinDirection": "Input",
					"pinType": "Float (single-precision)",
					"pinId": "A2CC654440E553AC90FA03ABB7F3E60B",
					"defaultValue": "10.000000",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				},
				{
					"pinName": "Key",
					"pinDirection": "Input",
					"pinType": "Name",
					"pinId": "F7F12F7846161B2188E38EB89836CD81",
					"defaultValue": "None",
					"bThisPinUsesDefaultValue": true,
					"connectedPinIds": []
				}
			]
		}
	]
}
```

</details>

<details>

<summary>TOON</summary>

```
nodeDataList[5]{nodeName,comment,bIsCommentNode,pinDataList}:
  Get IsFirstPlay,,false,
    pinDataList[2]{pinName,pinDirection,pinType,pinId,defaultValue,bThisPinUsesDefaultValue,connectedPinIds}:
      Is First Play,Output,Boolean,38F0BD7B4548CE3707F161951E77EFD2,false,false,[41AF610842826F7EA4CF1C939BC0BD14]
      Target,Input,L Sample,683AF56545EA5021298A688DCB203779,,true,[]
  Event BeginPlay,,false,
    pinDataList[2]{pinName,pinDirection,pinType,pinId,defaultValue,bThisPinUsesDefaultValue,connectedPinIds}:
      Output Delegate,Output,Delegate,F929107B41909F2A9DE7C58E3F17DF66,,false,[]
      then,Output,Exec,A1F7AC82495D21755E9AEC907008A979,,false,[D886E14F4E4EB1489CD67D9AE743AAD7]
  Branch,,false,
    pinDataList[4]{pinName,pinDirection,pinType,pinId,defaultValue,bThisPinUsesDefaultValue,connectedPinIds}:
      execute,Input,Exec,D886E14F4E4EB1489CD67D9AE743AAD7,,false,[A1F7AC82495D21755E9AEC907008A979]
      Condition,Input,Boolean,41AF610842826F7EA4CF1C939BC0BD14,true,false,[38F0BD7B4548CE3707F161951E77EFD2]
      True,Output,Exec,F1AF8EF8433BA25A83CB75BC7393D7EB,,false,[38A2D2F64DC6046FF9D271A4A76C63C8]
      False,Output,Exec,7EE5C76349D1514966AF38BBB160EAC3,,false,[38A2D2F64DC6046FF9D271A4A76C63C8]
  Print String,,false,
    pinDataList[10]{pinName,pinDirection,pinType,pinId,defaultValue,bThisPinUsesDefaultValue,connectedPinIds}:
      execute,Input,Exec,38A2D2F64DC6046FF9D271A4A76C63C8,,false,[F1AF8EF8433BA25A83CB75BC7393D7EB]
      then,Output,Exec,9C0778834E4A81758E83FA834E91B2AD,,false,[]
      Target,Input,Kismet System Library,FF22BD2F4D6C374F30E125903EEA1C70,/Script/Engine.Default__KismetSystemLibrary,true,[]
      World Context Object,Input,Object,6FAB1F2E40E482619454AA842B390F56,,true,[]
      In String,Input,String,C21184844D66411D3D89EE8DFB5DD89B,Nice to meet you!!,true,[]
      Print to Screen,Input,Boolean,EC90BC1046D7AB1FBEB309A15DF87FA4,true,true,[]
      Print to Log,Input,Boolean,E1A51F0549680735E8DC549ECED33D09,true,true,[]
      Text Color,Input,Linear Color,B6D72FF44EF181599820E28881FC973A,(R=0.000000,G=1.000000,B=0.000000,A=1.000000),true,[]
      Duration,Input,Float (single-precision),A2CC654440E553AC90FA03ABB7F3E60B,10.000000,true,[]
      Key,Input,Name,F7F12F7846161B2188E38EB89836CD81,None,true,[]
  Print String,,false,
    pinDataList[10]{pinName,pinDirection,pinType,pinId,defaultValue,bThisPinUsesDefaultValue,connectedPinIds}:
      execute,Input,Exec,38A2D2F64DC6046FF9D271A4A76C63C8,,false,[7EE5C76349D1514966AF38BBB160EAC3]
      then,Output,Exec,9C0778834E4A81758E83FA834E91B2AD,,false,[]
      Target,Input,Kismet System Library,FF22BD2F4D6C374F30E125903EEA1C70,/Script/Engine.Default__KismetSystemLibrary,true,[]
      World Context Object,Input,Object,6FAB1F2E40E482619454AA842B390F56,,true,[]
      In String,Input,String,C21184844D66411D3D89EE8DFB5DD89B,We meet again!,true,[]
      Print to Screen,Input,Boolean,EC90BC1046D7AB1FBEB309A15DF87FA4,true,true,[]
      Print to Log,Input,Boolean,E1A51F0549680735E8DC549ECED33D09,true,true,[]
      Text Color,Input,Linear Color,B6D72FF44EF181599820E28881FC973A,(R=1.000000,G=0.000000,B=0.000000,A=1.000000),true,[]
      Duration,Input,Float (single-precision),A2CC654440E553AC90FA03ABB7F3E60B,10.000000,true,[]
      Key,Input,Name,F7F12F7846161B2188E38EB89836CD81,None,true,[]
```

</details>

In this example, the character count for JSON is 7,986 characters. The character count for TOON is 3,316 characters. With Unreal Engine’s standard copy function, it is 23,278 characters.

## Blueprint Function Library for Editor Utilty
### Replace Assets References
Replace reference to `From` with `To`.

<img width="300" src="https://github.com/user-attachments/assets/1435b874-ef23-45e7-8ee6-03ce2aeaf54a">

### Create a Material Instance Asset
Create a Material Instance asset in the content browser based on `InMaterialInstanceDynamic`. `InAssetDirectory` should be set to a string such as "/Game/FolderName1/FolderName2/".

<img width="300" src="https://github.com/user-attachments/assets/dbfd43c9-612e-4861-b161-4d05109fddf1">
